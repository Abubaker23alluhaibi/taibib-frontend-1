# ๐ ุญู ูุดููุฉ ุนุฏู ูุตูู ุงูุฅุดุนุงุฑุงุช - Tabib IQ

## ๐จ **ุงููุดููุฉ:**
**ุงูุฅุดุนุงุฑุงุช ูุง ุชุตู ุนูุฏ ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ**

---

## ๐ **ุชุญููู ุงููุดููุฉ:**

### **ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. โ **ุงูุจุงููุฏ ูุง ูุนูู ุนูู Railway** (ุงููุดููุฉ ุงูุฑุฆูุณูุฉ)
2. โ **ููุงุท ููุงูุฉ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ููุฌูุฏุฉ**
3. โ **ุจูุงูุงุช ุงูุฅุดุนุงุฑ ุบูุฑ ููุชููุฉ** (userId, title ููููุฏุงู)
4. โ **ูุดููุฉ ูู CORS ุฃู ุงูุงุชุตุงู**

---

## โ **ูุง ุชู ูุญุตู:**

### **1. ุงูุจุงููุฏ ุนูู Railway:**
```bash
curl https://tabib-iq-backend-production.up.railway.app/api/health
# ุงููุชูุฌุฉ: 404 Application not found
```
**โ ุงูุจุงููุฏ ูุง ูุนูู ุนูู Railway**

### **2. ููุงุท ููุงูุฉ ุงูุฅุดุนุงุฑุงุช:**
- โ **ุชู ุฅุถุงูุชูุง** ูู `server.js`
- โ **POST /notifications** - ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ
- โ **GET /notifications** - ุฌูุจ ุงูุฅุดุนุงุฑุงุช
- โ **PUT /notifications/mark-read** - ุชุญุฏูุฏ ูููุฑูุกุฉ

### **3. ููุฏ ุฅูุดุงุก ุงูุฅุดุนุงุฑ ูู ุงููุฑููุช:**
- โ **ุงููุดููุฉ:** `userId` ู `title` ููููุฏุงู
- โ **ุงูุญู:** ุชู ุฅุตูุงุญ ุงูููุฏ

---

## ๐๏ธ **ุงูุญููู ุงููุทุจูุฉ:**

### **1. ุฅุตูุงุญ ููุฏ ุฅูุดุงุก ุงูุฅุดุนุงุฑ ูู `DoctorDetails.js`:**

#### **โ ูุจู ุงูุฅุตูุงุญ (ุฎุงุทุฆ):**
```javascript
await fetch(`${process.env.REACT_APP_API_URL}/notifications`, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    doctorId: doctor._id,
    type: 'new_appointment',
    message: `ุชู ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ...`,
    appointmentId: data._id
  })
});
```

#### **โ ุจุนุฏ ุงูุฅุตูุงุญ (ุตุญูุญ):**
```javascript
await fetch(`${process.env.REACT_APP_API_URL}/notifications`, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    userId: user._id,           // โ ุฅุถุงูุฉ userId
    doctorId: doctor._id,
    title: 'ููุนุฏ ุฌุฏูุฏ',        // โ ุฅุถุงูุฉ title
    message: `ุชู ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ...`,
    type: 'appointment'         // โ ุชุตุญูุญ ุงูููุน
  })
});
```

### **2. ุฅุถุงูุฉ ููุงุท ููุงูุฉ ุงูุฅุดุนุงุฑุงุช ูู ุงูุจุงููุฏ:**

#### **โ ูุฎุทุท ุงูุฅุดุนุงุฑุงุช:**
```javascript
const notificationSchema = new mongoose.Schema({
  userId: { type: mongoose.Schema.Types.ObjectId, ref: 'User' },
  doctorId: { type: mongoose.Schema.Types.ObjectId, ref: 'Doctor' },
  title: { type: String, required: true },
  message: { type: String, required: true },
  type: { type: String, enum: ['appointment', 'reminder', 'system'], default: 'appointment' },
  isRead: { type: Boolean, default: false },
  createdAt: { type: Date, default: Date.now }
});
```

#### **โ ููุงุท ุงูููุงูุฉ ุงููุถุงูุฉ:**
```javascript
// ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ
POST /notifications

// ุฌูุจ ุงูุฅุดุนุงุฑุงุช
GET /notifications?userId=...&doctorId=...

// ุชุญุฏูุฏ ูููุฑูุกุฉ
PUT /notifications/mark-read?userId=...&doctorId=...

// ุญุฐู ุฅุดุนุงุฑ
DELETE /notifications/:id
```

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ:**

### **ุงูุฎุทูุฉ 1: ุฅุตูุงุญ Railway (ููู ุฌุฏุงู)**
1. **ุงุฐูุจ ุฅูู [Railway Dashboard](https://railway.app/dashboard)**
2. **ุงุฎุชุฑ ูุดุฑูุน `tabib-iq-backend`**
3. **ุชุญูู ูู ุญุงูุฉ ุงููุดุฑ**
4. **ุฅุฐุง ูุงู ูุชูููุ ุงุถุบุท ุนูู "Redeploy"**

### **ุงูุฎุทูุฉ 2: ุงูุชุธุงุฑ ุงููุดุฑ**
- โฑ๏ธ **ุงูุจุงููุฏ:** 2-3 ุฏูุงุฆู ุจุนุฏ Redeploy
- โฑ๏ธ **ุงููุฑููุช:** 2-5 ุฏูุงุฆู (ุชููุงุฆู)

### **ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช**
```bash
# ุงุฎุชุจุงุฑ ููุทุฉ ููุงูุฉ ุงูุตุญุฉ
curl https://tabib-iq-backend-production.up.railway.app/api/health

# ุงุฎุชุจุงุฑ ุฅูุดุงุก ุฅุดุนุงุฑ
curl -X POST https://tabib-iq-backend-production.up.railway.app/notifications \
  -H "Content-Type: application/json" \
  -d '{
    "userId": "user_id",
    "doctorId": "doctor_id",
    "title": "ุงุฎุชุจุงุฑ",
    "message": "ุฑุณุงูุฉ ุงุฎุชุจุงุฑ",
    "type": "appointment"
  }'
```

---

## ๐ **ุงููุชุงุฆุฌ ุงููุชููุนุฉ:**

### **ุจุนุฏ ุฅุตูุงุญ Railway:**
```
โ ุงูุจุงููุฏ ูุนูู ุนูู Railway
โ ููุงุท ููุงูุฉ ุงูุฅุดุนุงุฑุงุช ุชุนูู
โ ุฅูุดุงุก ุงูุฅุดุนุงุฑุงุช ูุนูู ุนูุฏ ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ
โ ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ููุทุจูุจ ููุฑุงู
```

---

## ๐ง **ููู ุงุฎุชุจุงุฑ ุณุฑูุน:**

### **`ุงุฎุชุจุงุฑ-ุงูุจุงููุฏ-ุงูุณุฑูุน.js`:**
```javascript
// ุงุฎุชุจุงุฑ ุณุฑูุน ููุจุงููุฏ
const API_URL = 'https://tabib-iq-backend-production.up.railway.app';

async function ุงุฎุชุจุงุฑุงูุจุงููุฏ() {
  // ุงุฎุชุจุงุฑ ููุทุฉ ููุงูุฉ ุงูุตุญุฉ
  const healthResponse = await fetch(`${API_URL}/api/health`);
  
  // ุงุฎุชุจุงุฑ ุฅูุดุงุก ุฅุดุนุงุฑ
  const notificationResponse = await fetch(`${API_URL}/notifications`, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      userId: 'test_user_id',
      doctorId: 'test_doctor_id',
      title: 'ุงุฎุชุจุงุฑ ุฅุดุนุงุฑ',
      message: 'ูุฐุง ุฅุดุนุงุฑ ุชุฌุฑูุจู',
      type: 'appointment'
    })
  });
}
```

---

## ๐ฏ **ุงูุฎูุงุตุฉ:**

### **โ ุงููุดุงูู ูุญูููุฉ:**
- **ููุฏ ุงููุฑููุช:** ุชู ุฅุตูุงุญู (ุฅุถุงูุฉ userId ู title)
- **ููุงุท ุงูููุงูุฉ:** ุชู ุฅุถุงูุชูุง ูู ุงูุจุงููุฏ
- **ุงูุชุญุฏูุซุงุช:** ูุฑููุนุฉ ุนูู GitHub

### **โณ ุงููุทููุจ:**
- **ุฅุตูุงุญ Railway** - ุงูุจุงููุฏ ูุง ูุนูู ุญุงููุงู
- **ุงูุชุธุงุฑ ุงููุดุฑ** - 2-5 ุฏูุงุฆู
- **ุงุฎุชุจุงุฑ ุงููุธุงุฆู** - ุงูุชุฃูุฏ ูู ุนูู ุงูุฅุดุนุงุฑุงุช

### **๐ง ุงูุญู ุงูุณุฑูุน:**
1. **Railway Dashboard โ Redeploy**
2. **ุงูุชุธุงุฑ 3 ุฏูุงุฆู**
3. **ุงุฎุชุจุงุฑ ุญุฌุฒ ููุนุฏ ุฌุฏูุฏ**
4. **ุงูุชุญูู ูู ูุตูู ุงูุฅุดุนุงุฑ ููุทุจูุจ**

---

## ๐ **ูุนูููุงุช ุฅุถุงููุฉ:**

### **ุงูุฑูุงุจุท:**
- **Railway Dashboard:** https://railway.app/dashboard
- **Backend URL:** https://tabib-iq-backend-production.up.railway.app
- **Frontend URL:** https://tabib-iq-frontend.vercel.app

### **ุงููููุงุช ุงููุญุฏุซุฉ:**
- `../tabib-iq-frontend/src/DoctorDetails.js` - ุฅุตูุงุญ ุฅูุดุงุก ุงูุฅุดุนุงุฑุงุช
- `../tabib-iq-backend/server.js` - ุฅุถุงูุฉ ููุงุท ููุงูุฉ ุงูุฅุดุนุงุฑุงุช
- `ุงุฎุชุจุงุฑ-ุงูุจุงููุฏ-ุงูุณุฑูุน.js` - ููู ุงุฎุชุจุงุฑ ุณุฑูุน 